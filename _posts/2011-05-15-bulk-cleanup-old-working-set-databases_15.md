---
title: "Bulk cleanup old Working Set databases, part 2"
permalink: "/2011/05/bulk-cleanup-old-working-set-databases_15.html"
categories:
  - domino designer
---
Earlier today <a href="/2011/05/bulk-cleanup-old-working-set-databases.html">I wrote a post</a> describing how you could cleanup the Working Set by editing the XML that stores the Working Sets. I stated that you cannot do this though the Package Explorer view, as a delete from the view would also remove the database. That turns out to be wrong and thanks to <a href="http://nathan.lotus911.com/">Nathan Freeman</a> for pointing it out.

When you delete an entry from the Package Explorer view, it asks for confirmation and displays a checkbox with "Delete project contents on disk". I thought it was about cleaning up the temporary database files in de workspace folder and checked the box. But I was wrong. Checking this will tell Designer to actually remove the database, the .nsf.

Of course, I had to test it before correcting my previous post. During testing I made a couple of screenshots which I will present below. The testing was done on my development server with four blank databases named Test 1 up to 4.

<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-f4S8MWrtNR0/TdAgIqDCAMI/AAAAAAAAACI/OGbXcKlaIN0/s1600/Screenshot+-+15-5-2011+%252C+19_43_33.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="524" src="http://1.bp.blogspot.com/-f4S8MWrtNR0/TdAgIqDCAMI/AAAAAAAAACI/OGbXcKlaIN0/s640/Screenshot+-+15-5-2011+%252C+19_43_33.png" width="640" /></a></div>On the left you see the four databases in the Working Set "Test". To the right the contents of the workspace folder (note the four folders with temporary files for the Temp databases) and at the bottom the four databases on the server.

<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-oLaG_6KrF-U/TdAgIzHUcOI/AAAAAAAAACM/2KIlGN1tIvE/s1600/Screenshot+-+15-5-2011+%252C+19_51_29.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="640" src="http://3.bp.blogspot.com/-oLaG_6KrF-U/TdAgIzHUcOI/AAAAAAAAACM/2KIlGN1tIvE/s640/Screenshot+-+15-5-2011+%252C+19_51_29.png" width="376" /></a></div>From the Package Explorer the four databases are selected. Note that only one database was actually opened.

<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-ISgLgLTMUcU/TdAgJSkwg1I/AAAAAAAAACQ/2A8x4xV8K1E/s1600/Screenshot+-+15-5-2011+%252C+19_52_01.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="195" src="http://2.bp.blogspot.com/-ISgLgLTMUcU/TdAgJSkwg1I/AAAAAAAAACQ/2A8x4xV8K1E/s400/Screenshot+-+15-5-2011+%252C+19_52_01.png" width="400" /></a></div>After clicking on "Delete", the confirmation dialog is presented. Make sure to not select "Delete project contents on disk".

<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-7HcbdNP_aJM/TdAgJk_IqVI/AAAAAAAAACU/r6jWZoLSzRE/s1600/Screenshot+-+15-5-2011+%252C+19_53_47.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="536" src="http://4.bp.blogspot.com/-7HcbdNP_aJM/TdAgJk_IqVI/AAAAAAAAACU/r6jWZoLSzRE/s640/Screenshot+-+15-5-2011+%252C+19_53_47.png" width="640" /></a></div>After clicking OK, you see the database entries have been removed from the Test Working Set (top left), temporary files have been removed (top right), but the .nsf's are still available on the server (bottom right). Alright, that's what we're looking for!

<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-Ic36Y-JpurM/TdAgJ2HbbgI/AAAAAAAAACY/uDHF1ZZt5cc/s1600/Screenshot+-+15-5-2011+%252C+20_17_00.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="387" src="http://3.bp.blogspot.com/-Ic36Y-JpurM/TdAgJ2HbbgI/AAAAAAAAACY/uDHF1ZZt5cc/s400/Screenshot+-+15-5-2011+%252C+20_17_00.png" width="400" /></a></div>Now a test to see what happens when you do select the "Delete project contents on disk" checkbox. I re-added the four databases to the Test Working Set, selected them in Package Explorer and clicked in the context menu on "Delete". Of course, selecting the checkbox before hitting OK.

<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-W3RKJUgOnhI/TdAgKZIvorI/AAAAAAAAACc/QPkiDSpYlLU/s1600/Screenshot+-+15-5-2011+%252C+20_17_59.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="520" src="http://4.bp.blogspot.com/-W3RKJUgOnhI/TdAgKZIvorI/AAAAAAAAACc/QPkiDSpYlLU/s640/Screenshot+-+15-5-2011+%252C+20_17_59.png" width="640" /></a></div>After clicking OK, the databases have been removed from the Working Set, temporary files have been removed from the Workspace folder and, most importantly for this test, have been removed from the server

The delete in the Package Explorer turns out to be pretty powerful. You can use it to quickly cleanup your Working Set, but also to remove the corresponding databases. All from without the Domino Designer environment. Pretty cool, thanks Nate for pointing this out!
